{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Claude Code Settings",
  "description": "JSON Schema for Claude Code .claude/settings.json configuration files",
  "type": "object",
  "properties": {
    "permissions": {
      "description": "Permission configuration for tool usage and file access",
      "type": "object",
      "properties": {
        "allow": {
          "description": "Array of allowed tool patterns. Format: Tool(pattern) or just Tool",
          "pattern": "^[A-Za-z]+(\\([^)]*\\))?$",
          "examples": [
            "Bash(git diff:*)",
            "Read(src/*)",
            "Write(*.md)",
            "WebFetch"
          ],
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[A-Za-z][A-Za-z0-9]*(\\([^)]*\\))?$",
            "description": "Tool permission pattern. Format: ToolName or ToolName(pattern)",
            "examples": [
              "Bash",
              "Read(*.md)",
              "Write(src/*)",
              "WebFetch",
              "Bash(git diff:*)"
            ]
          },
          "title": "allow"
        },
        "deny": {
          "description": "Array of denied tool patterns. Format: Tool(pattern) or just Tool",
          "pattern": "^[A-Za-z]+(\\([^)]*\\))?$",
          "examples": [
            "Read(./.env)",
            "WebFetch",
            "Bash(rm *)"
          ],
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[A-Za-z][A-Za-z0-9]*(\\([^)]*\\))?$",
            "description": "Tool permission pattern. Format: ToolName or ToolName(pattern)",
            "examples": [
              "Bash",
              "Read(*.md)",
              "Write(src/*)",
              "WebFetch",
              "Bash(git diff:*)"
            ]
          },
          "title": "deny"
        },
        "ask": {
          "description": "Array of tool patterns that require confirmation. Format: Tool(pattern) or just Tool",
          "pattern": "^[A-Za-z]+(\\([^)]*\\))?$",
          "examples": [
            "Write(*)",
            "Bash(*)",
            "Delete"
          ],
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[A-Za-z][A-Za-z0-9]*(\\([^)]*\\))?$",
            "description": "Tool permission pattern. Format: ToolName or ToolName(pattern)",
            "examples": [
              "Bash",
              "Read(*.md)",
              "Write(src/*)",
              "WebFetch",
              "Bash(git diff:*)"
            ]
          },
          "title": "ask"
        },
        "additionalDirectories": {
          "description": "Additional working directories that Claude has access to",
          "examples": [
            [
              "../docs/"
            ]
          ],
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "additionalDirectories"
        },
        "defaultMode": {
          "description": "Default permission mode when opening Claude Code",
          "type": "string",
          "title": "defaultMode"
        },
        "disableBypassPermissionsMode": {
          "description": "Set to \"disable\" to prevent bypassPermissions mode from being activated",
          "type": "string",
          "title": "disableBypassPermissionsMode"
        }
      },
      "title": "permissions"
    },
    "env": {
      "$ref": "#/definitions/Record%3Cstring%2Cstring%3E",
      "description": "Environment variables to set for Claude Code sessions",
      "title": "env"
    },
    "model": {
      "description": "Override the default AI model",
      "type": "string",
      "title": "model"
    },
    "cleanupPeriodDays": {
      "description": "How long to locally retain chat transcripts based on last activity date",
      "default": 30,
      "type": "number",
      "title": "cleanupPeriodDays"
    },
    "includeCoAuthoredBy": {
      "description": "Whether to include the co-authored-by Claude byline in git commits and pull requests",
      "default": true,
      "type": "boolean",
      "title": "includeCoAuthoredBy"
    },
    "forceLoginMethod": {
      "description": "Use \"claudeai\" to restrict login to Claude.ai accounts, \"console\" to restrict login to Claude Console (API usage billing) accounts",
      "type": "string",
      "title": "forceLoginMethod"
    },
    "forceLoginOrgUUID": {
      "description": "Specify the UUID of an organization to automatically select it during login, bypassing the organization selection step\nRequires forceLoginMethod to be set",
      "type": "string",
      "title": "forceLoginOrgUUID"
    },
    "hooks": {
      "description": "Custom hooks for tool execution",
      "type": "object",
      "properties": {
        "PreToolUse": {
          "description": "Hooks that run before tool calls",
          "type": "array",
          "items": {
            "$ref": "#/definitions/HookMatcher"
          },
          "title": "PreToolUse"
        },
        "PostToolUse": {
          "description": "Hooks that run after tool completion",
          "type": "array",
          "items": {
            "$ref": "#/definitions/HookMatcher"
          },
          "title": "PostToolUse"
        },
        "Notification": {
          "description": "Hooks that run on notifications",
          "type": "array",
          "items": {
            "$ref": "#/definitions/HookMatcher"
          },
          "title": "Notification"
        },
        "UserPromptSubmit": {
          "description": "Hooks that run when user submits a prompt",
          "type": "array",
          "items": {
            "$ref": "#/definitions/HookMatcher"
          },
          "title": "UserPromptSubmit"
        },
        "Stop": {
          "description": "Hooks that run when stopping",
          "type": "array",
          "items": {
            "$ref": "#/definitions/HookMatcher"
          },
          "title": "Stop"
        },
        "SubagentStop": {
          "description": "Hooks that run when subagent stops",
          "type": "array",
          "items": {
            "$ref": "#/definitions/HookMatcher"
          },
          "title": "SubagentStop"
        },
        "PreCompact": {
          "description": "Hooks that run before compacting",
          "type": "array",
          "items": {
            "$ref": "#/definitions/HookMatcher"
          },
          "title": "PreCompact"
        },
        "SessionStart": {
          "description": "Hooks that run at session start",
          "type": "array",
          "items": {
            "$ref": "#/definitions/HookMatcher"
          },
          "title": "SessionStart"
        },
        "SessionEnd": {
          "description": "Hooks that run at session end",
          "type": "array",
          "items": {
            "$ref": "#/definitions/HookMatcher"
          },
          "title": "SessionEnd"
        }
      },
      "title": "hooks"
    },
    "apiKeyHelper": {
      "description": "Script path for generating authentication values",
      "type": "string",
      "title": "apiKeyHelper"
    },
    "statusLine": {
      "$ref": "#/definitions/StatusLineConfig",
      "description": "Custom status line configuration",
      "title": "statusLine"
    },
    "outputStyle": {
      "description": "Output style configuration",
      "anyOf": [
        {
          "type": "object",
          "properties": {},
          "additionalProperties": true
        },
        {
          "type": "string"
        }
      ],
      "title": "outputStyle"
    },
    "companyAnnouncements": {
      "description": "Announcements to display to users at startup\nMultiple announcements are cycled through at random",
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "companyAnnouncements"
    },
    "disableAllHooks": {
      "description": "Disable all hooks",
      "type": "boolean",
      "title": "disableAllHooks"
    },
    "enableAllProjectMcpServers": {
      "description": "Automatically approve all MCP servers defined in project .mcp.json files",
      "type": "boolean",
      "title": "enableAllProjectMcpServers"
    },
    "enabledMcpjsonServers": {
      "description": "List of specific MCP servers from .mcp.json files to approve",
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "enabledMcpjsonServers"
    },
    "disabledMcpjsonServers": {
      "description": "List of specific MCP servers from .mcp.json files to reject",
      "type": "array",
      "items": {
        "type": "string"
      },
      "title": "disabledMcpjsonServers"
    },
    "allowedMcpServers": {
      "description": "Enterprise allowlist of MCP servers users can configure\nUndefined = no restrictions, empty array = lockdown",
      "type": "array",
      "items": {
        "$ref": "#/definitions/McpServerFilter"
      },
      "title": "allowedMcpServers"
    },
    "deniedMcpServers": {
      "description": "Enterprise denylist of MCP servers that are explicitly blocked\nDenylist takes precedence over allowlist",
      "type": "array",
      "items": {
        "$ref": "#/definitions/McpServerFilter"
      },
      "title": "deniedMcpServers"
    },
    "awsAuthRefresh": {
      "description": "Custom script that modifies the .aws directory for authentication",
      "type": "string",
      "title": "awsAuthRefresh"
    },
    "awsCredentialExport": {
      "description": "Custom script that outputs JSON with AWS credentials",
      "type": "string",
      "title": "awsCredentialExport"
    },
    "sandbox": {
      "$ref": "#/definitions/SandboxConfig",
      "description": "Sandbox configuration for bash command isolation",
      "title": "sandbox"
    },
    "enabledPlugins": {
      "$ref": "#/definitions/Record%3Cstring%2Cboolean%3E",
      "description": "Map of enabled plugins\nFormat: \"plugin-name@marketplace-name\": true/false",
      "title": "enabledPlugins"
    },
    "extraKnownMarketplaces": {
      "$ref": "#/definitions/Record%3Cstring%2C%7Bsource%3AMarketplaceSource%3B%7D%3E",
      "description": "Additional plugin marketplaces",
      "title": "extraKnownMarketplaces"
    }
  },
  "definitions": {
    "Record<string,string>": {
      "title": "Record<string,string>",
      "type": "object"
    },
    "HookMatcher": {
      "description": "Hook matcher configuration",
      "title": "HookMatcher",
      "type": "object",
      "properties": {
        "matcher": {
          "description": "Tool pattern matcher (optional, case-sensitive)\nEmpty string or \"*\" matches all tools\nUse \"|\" to match multiple tools: \"Edit|Write|MultiEdit\"",
          "pattern": "^(\\*|||(Edit|Bash|Glob|Grep|MultiEdit|NotebookEdit|NotebookRead|Read|Task|TodoWrite|WebFetch|WebSearch|Write)(\\|(Edit|Bash|Glob|Grep|MultiEdit|NotebookEdit|NotebookRead|Read|Task|TodoWrite|WebFetch|WebSearch|Write))*)$",
          "examples": [
            "Edit|MultiEdit|Write",
            "Bash",
            "*",
            ""
          ],
          "type": "string",
          "title": "matcher"
        },
        "hooks": {
          "description": "Array of hooks to execute",
          "type": "array",
          "items": {
            "$ref": "#/definitions/HookCommand"
          },
          "title": "hooks"
        }
      },
      "required": [
        "hooks"
      ]
    },
    "HookCommand": {
      "description": "Hook command configuration",
      "title": "HookCommand",
      "type": "object",
      "properties": {
        "type": {
          "description": "Command type",
          "type": "string",
          "const": "command",
          "title": "type"
        },
        "command": {
          "description": "Command to execute",
          "type": "string",
          "title": "command"
        },
        "timeout": {
          "description": "Timeout in seconds (optional)",
          "type": "number",
          "title": "timeout"
        }
      },
      "required": [
        "command",
        "type"
      ]
    },
    "StatusLineConfig": {
      "description": "Status line command configuration",
      "title": "StatusLineConfig",
      "type": "object",
      "properties": {
        "type": {
          "description": "Status line type",
          "type": "string",
          "const": "command",
          "title": "type"
        },
        "command": {
          "description": "Command or script path to execute for status line",
          "type": "string",
          "title": "command"
        },
        "padding": {
          "description": "Padding for status line display (optional)\nSet to 0 for edge-to-edge display",
          "type": "number",
          "title": "padding"
        }
      },
      "required": [
        "command",
        "type"
      ]
    },
    "McpServerFilter": {
      "description": "MCP server filter for allowlist/denylist",
      "title": "McpServerFilter",
      "type": "object",
      "properties": {
        "serverName": {
          "description": "Name of the MCP server",
          "type": "string",
          "title": "serverName"
        }
      },
      "required": [
        "serverName"
      ]
    },
    "SandboxConfig": {
      "description": "Sandbox configuration for bash command isolation",
      "title": "SandboxConfig",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Enable bash sandboxing (macOS/Linux only)",
          "default": false,
          "type": "boolean",
          "title": "enabled"
        },
        "autoAllowBashIfSandboxed": {
          "description": "Auto-approve bash commands when sandboxed",
          "default": true,
          "type": "boolean",
          "title": "autoAllowBashIfSandboxed"
        },
        "excludedCommands": {
          "description": "Commands that should run outside of the sandbox",
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "excludedCommands"
        },
        "allowUnsandboxedCommands": {
          "description": "Allow commands to run outside sandbox via dangerouslyDisableSandbox parameter",
          "default": true,
          "type": "boolean",
          "title": "allowUnsandboxedCommands"
        },
        "network": {
          "$ref": "#/definitions/SandboxNetworkConfig",
          "description": "Network configuration for sandbox",
          "title": "network"
        },
        "enableWeakerNestedSandbox": {
          "description": "Enable weaker sandbox for unprivileged Docker environments (Linux only)\nReduces security",
          "default": false,
          "type": "boolean",
          "title": "enableWeakerNestedSandbox"
        }
      }
    },
    "SandboxNetworkConfig": {
      "description": "Sandbox network configuration",
      "title": "SandboxNetworkConfig",
      "type": "object",
      "properties": {
        "allowUnixSockets": {
          "description": "Unix socket paths accessible in sandbox (for SSH agents, etc.)",
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "allowUnixSockets"
        },
        "allowLocalBinding": {
          "description": "Allow binding to localhost ports (macOS only)",
          "default": false,
          "type": "boolean",
          "title": "allowLocalBinding"
        },
        "httpProxyPort": {
          "description": "HTTP proxy port if bringing your own proxy",
          "type": "number",
          "title": "httpProxyPort"
        },
        "socksProxyPort": {
          "description": "SOCKS5 proxy port if bringing your own proxy",
          "type": "number",
          "title": "socksProxyPort"
        }
      }
    },
    "Record<string,boolean>": {
      "title": "Record<string,boolean>",
      "type": "object"
    },
    "Record<string,{source:MarketplaceSource;}>": {
      "title": "Record<string,{source:MarketplaceSource;}>",
      "type": "object"
    }
  },
  "examples": [
    {
      "permissions": {
        "allow": [
          "Bash(git diff:*)",
          "Read(src/*)"
        ],
        "deny": [
          "Read(./.env)",
          "WebFetch"
        ],
        "ask": [
          "Write(*)"
        ]
      },
      "env": {
        "NODE_ENV": "development"
      },
      "model": "claude-3-5-sonnet-20241022"
    }
  ]
}